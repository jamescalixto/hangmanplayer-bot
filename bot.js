var VERSIONNUMBER = "2.4";

var HTTPS = require('https');
var botID = process.env.BOT_ID;

var r1 = /\!play$/,
	 r2 = /\!guess\s[a-zA-Z]$/,
	 r3 = /\!forfeit$/,
	 r4 = /\!progress$/,
	 r5 = /\!help$/;
	 r6 = /\!about$/;

var currentlyPlayingGame = false;

var guessWord = "tilted";
var displayWord = "??????";

var guessedLetters = "";

var guessesMax = 5;
var guessesRemain = 5;

var wordList = ["bead","debe","egad","able","beck","calf","cane","blade","bedded","bear","dial","laid","care","raga","bagel","chap","bile","daub","leak","cabin","hang","paid","arch","raja","eagle","addled","bath","echo","doff","gabled","high","raid","clap","mean","bold","eave","magic","cabby","plea","damp","breed","bond","bran","lick","capo","naked","creed","chalk","come","etch","mend","biped","main","seal","take","buck","wadi","flame","caddy","called","gasbag","beachhead","earn","same","cant","plead","chico","decile","coat","waif","kola","angel","amber","afire","blase","carob","fascia","ganache","blue","dish","gran","chit","rata","brief","cream","adieu","ribbed","deckle","home","joke","wide","freak","mamma","glial","maniac","raffia","defile","labeled","gift","hood","duel","gawk","lark","bonk","cloak","henna","charge","combed","deified","give","goat","cast","sear","march","eject","manna","vocab","heated","dredge","oedema","pine","fore","fawn","laze","elder","chill","karma","brain","bubble","scarab","buffed","dabbler","backhand","milk","fume","frat","range","saber","bridge","madder","haredi","glacial","firm","tile","vain","even","malt","drain","shame","bevel","leased","choked","magical","mandala","wear","poke","omen","save","alone","epoch","grail","skald","farmed","ujamaa","medical","long","pier","peri","craft","blink","rated","campo","bazar","bamboo","picked","bedside","amoebic","degraded","moat","corm","sauce","jeans","fancy","capon","dimer","meager","fedora","bidding","endgame","limeade","gearhead","chickadee","corn","span","nope","doze","dunk","judo","pone","sneak","macro","faint","ionic","homie","sacred","cobweb","enhance","affected","checkable","urge","soap","guard","hiker","erect","pieta","marble","delete","falcon","feline","kaffir","fanfare","ship","some","weigh","grind","pearl","amino","filet","vapid","marked","abused","lacuna","batted","ceramic","comedic","carfare","tome","thud","ruck","usage","ready","peeve","gender","hanger","ranked","silica","fecund","medlar","regalia","bohemia","taxi","hunk","spar","voice","lithe","kilim","combat","renege","dapple","sacral","dialect","offhand","bagasse","databank","pass","pose","shew","mixed","impel","blurb","sheer","trice","dating","salami","wasabi","waggle","glacier","bending","dilated","deadlock","beheading","poet","past","lest","whet","apart","alert","brawl","scone","belly","nisei","thread","collie","angora","jarred","posada","mascara","hidalgo","babbitt","dejected","roll","rent","burp","kudu","human","chunk","rodeo","canny","kopje","peeved","clonal","injera","channel","congeal","paladin","chigger","midland","teachable","noon","brow","skew","rote","drive","gumbo","helix","guano","bravo","refit","heroic","nuance","manger","icebox","voiced","feeling","breadth","earlobe","seepage","haredim","bleeding","mute","mute","rook","spear","hanky","salve","posed","krait","double","khakis","opened","drudge","gouged","nailer","liberal","manatee","canasta","accident","befuddle","leaching","jump","stat","welt","shul","occur","twice","stiff","depot","smash","ruled","bounce","ginger","eyelid","retake","girlie","grayed","euchre","collide","warhead","induced","capably","decrease","heraldic","giveback","imbalance","ooze","avow","sung","prime","grasp","hairy","sling","inlay","toile","hyoid","entail","riding","thawed","kickoff","magenta","heathen","macaque","decoding","lockable","tool","prom","stick","favor","blush","liven","tribal","asthma","codify","papacy","medkit","graphic","payable","hepatic","beatnik","bandbox","cordial","alopecia","checkered","next","flux","cover","smoke","pluck","sight","array","luger","annual","wiggle","barley","hereby","fathom","halloo","cashier","creamer","fibroid","detainee","balancing","lazy","prey","vital","ensue","inept","drool","tater","redly","render","ambush","hassle","lingua","unbind","gradual","ignoble","bollard","diarrhea","peacenik","plebeian","ugly","espy","music","spark","gesso","sward","finish","finish","creamy","mantel","distal","hitman","simian","bathos","special","enchant","tapioca","forbear","marinade","ballclub","jailbird","attacked","envy","event","liver","flush","swain","figure","ashore","layman","toggle","callow","ancient","confine","vaginal","cassava","biofilm","empanel","puddled","picador","bloodied","disgrace","barbarian","cadaveric","hurt","awry","rainy","stave","makeup","bodily","taping","gaiety","axonal","receive","organic","jumbled","clothed","miasmic","cheating","buffered","badgering","poly","sweat","stock","scoop","lefty","ignore","hurdle","fright","dotted","ensign","scotch","farming","scarred","lambast","sobbing","sanding","disagree","headwind","bathetic","marmalade","sump","unite","sever","blitz","foist","kaput","milieu","starch","knobby","cretin","jangly","midwife","prepaid","clawing","peaceful","displace","handcart","gingered","degrading","carpaccio","mechanical","spot","post","milky","morph","loess","remedy","talcum","hatbox","blazon","courage","retrace","seeking","sarcoma","pollack","mansard","clangor","deformed","dockside","homepage","antedate","codebook","indigence","sabbatical","torr","swell","thrip","rumen","freely","burger","darkly","lumber","jovian","raving","barrier","compact","presage","seaward","scrapie","huffing","palooka","playback","archduke","landline","chambray","celebrate","first","brown","still","closer","school","wheeze","manure","vernal","hoodoo","arrant","fashion","discern","covered","judging","concord","ignored","sleeved","furball","mediocre","airspace","blackfly","cockerel","dashboard","inhabited","toss","sound","roast","talus","ornate","format","tested","avidly","comely","billow","wigeon","eagerly","batting","obelisk","apparat","charming","landlady","rapeseed","unbalance","backlight","decalogue","error","posse","simple","rapper","skater","censor","minion","goiter","pommel","oriole","initial","legally","auspice","obviate","plasmid","ductile","misname","preacher","licorice","hightail","fiendish","gasifier","adverbial","lynx","towel","reform","carrot","refute","nobody","revamp","unreel","deplore","dipping","refiner","stifled","harissa","rifling","distance","dislodge","harangue","backspin","fireplace","advisable","analogical","impeachable","minus","retro","rerun","victim","patent","waiter","tassel","swathe","yippee","realize","fiction","mailbox","inertia","relapse","blunder","tenfold","raceway","preachy","lingual","biliary","pinging","graffiti","hideaway","dogfight","unloaded","glissade","cartilage","adoptable","store","group","mouth","uvula","deploy","replay","wretch","ravish","salver","walking","shuffle","jarring","sherbet","viscera","lanolin","research","leukemia","anyplace","bothered","drubbing","expended","affective","carnelian","endangered","suss","thump","swish","parry","vendor","assent","scrimp","natter","renewal","joining","greeter","anodyne","serried","paranoid","reindeer","credibly","shingled","shabbily","publican","caulking","barbless","uploaded","validated","chaparral","handclasp","chatelaine","sword","raspy","roily","subtle","theirs","shrink","geyser","stolid","turgid","citron","bizarre","lighter","baptize","pinhole","legless","firelit","rehearse","abrasion","beadwork","laughing","knapweed","defective","practiced","carbonate","addressed","voter","grunt","jetty","throne","potted","patter","pseudo","scythe","posing","creator","bastion","crowbar","minaret","wrangle","pinking","carnival","hallowed","headrest","savannah","fainting","aphelion","hardening","beckoning","abasement","accomplice","straw","gunny","tennis","jostle","junket","cosset","lumpen","ongoing","profile","enliven","tangent","graying","excused","probing","piercing","enticing","typeface","dockyard","deflator","preceding","legalized","crocheted","recalling","evaluable","predecease","juror","myrrh","propel","homily","quoted","duplex","getaway","tendril","forceps","massing","expected","indigent","peephole","clematis","chipping","cornered","derriere","demiurge","airshaft","unclaimed","bicoastal","antigenic","stagecoach","stork","steamy","methyl","wiggly","jitney","specify","freezer","driving","agility","repaint","unrated","warlock","gosling","travail","ripcord","complain","brighten","stampede","eugenics","lessened","maidenly","breakfast","headlining","prowl","frozen","tarpon","flimsy","violate","capture","proffer","apprise","yelling","invitee","garrote","roiling","preclude","unharmed","seatmate","librarian","madrassah","bioscience","stoop","wrest","softy","uneasy","insert","evilly","passing","devolve","revived","humming","sandlot","brashly","crofter","circular","negation","telecast","hydrated","stubbled","compleat","heatwave","disregard","beanstalk","millipede","slimeball","hemiplegia","unzip","reflux","regrow","foetus","warning","anthrax","brownie","swindle","grooved","joyride","pasting","molecule","dwelling","silicone","canoeist","subspace","peroneal","margarine","rampaging","comparable","depreciate","carabinero","lotus","punish","strait","retest","sorrel","distant","antique","plumber","nothing","antique","proclaim","manifest","crackpot","overhand","picketer","expander","concerted","endocrine","aeroplane","mandoline","encyclical","franchised","blackmailer","jazzy","vision","parrot","sleazy","purple","wanting","longbow","layaway","instate","coherent","finisher","banister","repartee","shitload","uncaused","caregiver","ceaseless","matchbook","shredding","chuckling","marketable","coalescing","coffeemaker","winter","success","scenery","snapper","realtor","protean","fluidly","tribune","tolling","sergeant","parasite","militate","leftward","premiere","defensive","homemaker","fusillade","laughably","bodacious","anorectal","fatherland","dizzy","armory","revenue","desktop","droplet","plunder","emitter","aurally","tinware","painting","daunting","powdered","mishmash","impeller","ammonite","contador","flowerbed","disclosed","trackside","methodical","mujahideen","metacarpal","sissy","gutter","anymore","newborn","mooring","urethra","regress","jazzman","outraged","outreach","cookware","agitator","spitball","eastward","perianth","deception","prejudice","guardrail","bookmaker","assonance","promenade","democratic","exegetical","reclaiming","debilitated","cheerleading","report","plenty","grungy","pension","uncanny","glorify","commons","ostrich","lurking","hosting","identify","confound","vengeful","gunfight","blushing","favoring","associate","equitable","shrinkage","telegraph","underpaid","selectman","occasional","reflectance","entity","trying","sextet","presto","harvest","elusive","outside","splotch","plunger","cautery","ensuite","likewise","dripping","catalyze","grueling","floodlit","bejeezus","breakdown","healthful","recording","mutagenic","deflection","changeless","mathematic","winery","vertex","hastily","seaport","frazzle","osmotic","guesser","orbiting","daintily","sinecure","tropical","newspeak","enlighten","microchip","arbitrate","aerialist","fatiguing","headmaster","demolished","desalinated","surly","unholy","smirky","impulse","obesity","dustpan","furrier","dominus","dressing","plethora","employed","lycopene","erythema","libelous","clumping","clawfoot","ancillary","binocular","nominated","remodeler","etiologic","dimorphic","fanaticism","caregiving","handicapper","sprint","whoops","cowpox","naughty","weirdly","sounder","skittle","employee","colossal","peroxide","lethargy","whiplash","lovesick","terabyte","stifling","afterward","conducive","assailant","scorching","disembody","sniffling","frightened","audiologic","architected","squirm","ostium","convert","widower","viceroy","snooker","fizzing","secondly","monarchy","treatise","forklift","monorail","wheezing","layabout","touching","foreigner","eloquence","cabinetry","honorific","masculine","complicate","cognizance","enjambment","dismembered","monarchical","export","quickly","issuing","boxwood","marquis","issuing","symbolic","anything","airwaves","eyesight","sentinel","undulate","marzipan","baluster","sawbones","cooperate","reprimand","contagion","proofread","glycerine","timeshare","ticketing","adolescent","inaccuracy","tragicomic","appreciated","vastly","tautly","upright","panoply","mudroom","divisive","stinging","impolite","unburned","playgoer","generally","deviation","nonmember","scintilla","unclouded","imploding","indecisive","hitchhiker","anthracite","demoiselle","incoherence","geomagnetic","turkey","printer","drizzle","troller","pitying","boundary","roommate","midpoint","tailspin","pilaster","unfreeze","coonskin","therefore","nostalgic","unbounded","magnetize","preformed","palpitate","scrunchie","empathetic","leveraging","archdiocesan","outfox","suction","nattily","compound","brightly","vocalist","quandary","guessing","quatrain","terrapin","haziness","inability","increment","retardant","bucketful","divorcing","galvanized","unbearably","footbridge","flycatcher","unshielded","malpractice","extort","outward","upstate","antonym","snooper","improved","bullying","asterisk","sparring","frugally","slipping","oiliness","dissipate","redevelop","glutamine","hypomania","incendiary","continence","grandfather","cabinetmaker","quartz","anxious","turning","womanly","towpath","souring","hitherto","quartile","roadshow","pedantry","ringless","elevation","deserving","reopening","trenchant","teetering","convening","steroidal","paraphrase","consecrate","favourable","disfavored","miscarriage","beneficially","porous","trippy","shotgun","touring","cultist","touring","restored","forwards","offshoot","smoothie","dilatory","rotating","swarming","cranberry","processed","underling","gallantly","abstinent","animality","trellised","internode","governance","masquerade","regimental","repugnance","asteroidal","established","matriarchal","geoeconomic","knotty","request","monsoon","taproot","upsweep","reviewer","laziness","goalpost","incorrect","analogous","glassware","eyeshadow","tidewater","recounted","chairwoman","pontifical","unhampered","respirable","implantable","paracetamol","unredeemable","statute","contour","exorcism","pushcart","graviton","fluorite","cosmetics","replenish","exploding","boathouse","hydrating","hairdryer","disconnect","midshipman","pigeonhole","dissembler","clandestine","recoverable","basketmaker","portion","rivulet","flutist","tipster","portion","software","currency","overtime","lollipop","stoicism","socialist","forgiving","monograph","unplugged","fecundity","convivial","exculpate","uncolored","earthquake","inflection","matchstick","glimmering","flameproof","commendably","amalgamation","mussels","smartly","trollop","homework","scouting","brownish","whitefly","teletype","devourer","residuals","ventilate","overbuild","pasturage","endomorph","weatherman","transience","rearmament","stampeding","millenarian","millenarian","prefabricated","furious","isthmus","sunless","sunshine","spraying","sauropod","queasily","proactive","repressed","voiceless","lodestone","isinglass","holloware","mitigating","cantilever","ornamented","reproduced","anguishing","misdirected","honeycombed","frizzy","mixture","outplay","downplay","tincture","bollworm","destruct","answering","centrally","councilor","tricorder","glowering","theorized","polltaker","sentencing","wonderland","compounded","paleolithic","vacillating","kilocalorie","paediatrician","shutter","transfix","antinomy","preschool","snowboard","paperless","sniveling","witchcraft","bloodstain","franchisor","excisional","convergence","hundredfold","disaffection","unknown","northern","prospect","showtime","bookworm","ryegrass","potential","crossfire","detonator","semiotics","shipwreck","buckthorn","manipulate","pioneering","photogenic","advisement","hematocrit","dictatorial","rearranging","novelty","syndrome","luminary","busybody","slothful","straying","spacesuit","linearity","jockstrap","connexion","concensus","unilateral","dissimilar","pictograph","tastemaker","dreamworld","brightening","foreseeably","petrous","rosemary","shrewdly","spitting","rounders","subsidize","distorted","frostbite","privateer","schoolbus","nationwide","recitation","senatorial","accusingly","straggling","intensified","predication","mimeographed","powwow","supposed","temerity","classroom","expansive","musically","commuting","unhelpful","doomsayer","spearmint","pulsatile","exhibition","heretofore","schoolbook","squelching","pyromaniac","pomegranate","inequitable","fluoridated","intelligence","mycobacteria","indefatigably","polarity","slithery","swingset","painfully","uninjured","proboscis","abusively","microphone","underclass","hovercraft","demonizing","classically","monological","cheeseburger","knowledgeable","entrust","boomtown","limousine","punishing","greyhound","disrepute","saturnian","crassness","keratosis","mitigation","retreating","undertaker","borderless","marguerite","feasibility","unendurable","shuffleboard","smutty","sporting","crosscut","troubling","psychotic","fortitude","usability","foolproof","downshift","refurnish","controlled","caseworker","attractant","collimator","meaningless","unrehearsed","downloading","debilitative","thirsty","subgroup","vastness","tautness","moonshot","investing","erstwhile","philology","narrowing","purgative","conserver","humanities","moralistic","negativism","humaneness","multiracial","biophysical","predestined","ecologically","disconcerted","question","upwardly","froufrou","retention","interplay","automaton","fossilize","schoolyard","civilizing","plundering","overhanging","sufficiency","scorekeeper","indebtedness","kleptomaniac","optimist","virulent","nutrient","nugatory","pertinent","tightness","importing","forecourt","infectious","filibuster","depressant","entombment","restocking","suffocating","homogenized","dishwashing","resurfacing","tobacconist","unparalleled","encirclement","opacification","spookily","surrender","persimmon","footloose","punctured","unfurling","distressed","revocation","cellulitis","villainess","abstraction","captivating","inseparably","bureaucratic","sandblasting","bibliographer","minority","intensely","insertion","intercity","muskmelon","foreground","fastidious","reanalysis","heliotrope","proficiency","matriculate","engorgement","spellbinding","regenerating","recrudescence","luminous","devoutly","assuredly","exploiter","kilohertz","skepticism","precocious","liminality","fussbudget","contracting","unconvinced","assemblyman","megalopolis","dissatisfied","unverifiable","woozily","drowsily","interview","summation","summoning","successive","empowering","rejuvenated","prefectural","appendicitis","refashioning","surplus","forestry","squamous","sobriquet","compromise","resounding","snowmaking","necropolis","operational","memorialize","maidservant","provenience","biomolecular","choreographic","communist","convolute","bowstring","provoking","cumulative","distraught","descriptor","apotheosis","multistage","distractor","gastronome","magnanimous","sleepwalker","implicature","decongestant","unfashionable","multiply","prompting","fertilizer","exhausting","creaturely","interaction","lightweight","realpolitik","uncompleted","congregation","glockenspiel","wondrous","astronaut","inversely","southward","deployment","underwater","discussant","vengefully","recognition","maneuvering","suffocation","conjugation","commercially","fictionalize","cyanobacterial","pursuant","humorless","whosoever","polyandry","compatriot","gorgonzola","syphilitic","destination","integrative","negligently","behaviorally","abstractedly","hydroxyl","upsetting","expiration","watercress","hauntingly","evaporator","survivable","driverless","nonsterile","antioxidant","rationalism","imperialist","uninstalled","verification","enigmatically","multiplex","gunrunner","creativity","relinquish","fluttering","sisterhood","hypersonic","description","curvilinear","overindulge","deliverymen","triangulated","combinatorial","footprint","windswept","moistness","playground","statehouse","histiocyte","persistence","trinitarian","sycophantic","accumulation","orthopaedics","commercialism","lethargically","unstrung","seniority","turpitude","silhouette","unrequited","selflessly","transaction","unorganized","merrymaking","appurtenance","insignificant","metallurgical","disenfranchise","sonority","copiously","verbosity","sauerkraut","artfulness","switcheroo","acquisitive","parathyroid","syndicalist","hieroglyphic","detectability","currently","popularly","rootstock","sunglasses","journeyman","hypostatic","counterfeit","intercostal","thermophilic","reprehensible","puppetry","authority","persuasion","whereabouts","helpfulness","unreasoning","shuttlecock","intimidation","neurasthenic","synthesis","seamstress","mycologist","fluorescent","disjunction","revaluation","interleukin","hygroscopic","unfathomably","pseudoscience","sinusitis","transition","sluggishly","squeezebox","agonizingly","corruptible","nonvolatile","meaningfully","esthetically","aerodigestive","methodological","hortatory","pilothouse","pasteurize","hospitalize","preliminary","incantatory","microswitch","fluorocarbon","reoccupation","foreknowledge","behavioristic","plutonium","unsettling","periosteum","unprotected","cognitively","romanticist","silversides","acoustically","congregational","propriety","downstairs","hollowness","switchover","abortionist","bottlebrush","segmentation","subservience","artificiality","seriously","frequently","streetwise","astuteness","permanently","acupuncture","loosestrife","paramilitary","paramilitary","participating","mainstreaming","oppressive","subroutine","corporation","tenaciously","inconvenient","perspicacity","unspecialized","persistent","riverfront","numerology","portcullis","stimulating","workability","therapeutics","consolidator","fractionation","cautiously","incestuous","stepbrother","subjunctive","solicitation","sociobiology","prophylactic","unadulterated","unlawfully","furthermore","corporatism","nonordinary","convincingly","articulately","laughingstock","polycarbonate","stereotype","intersperse","disputation","interception","overdeveloped","practicability","consumerism","orthopedist","illumination","companionway","unjustifiable","bildungsroman","hepatocellular","possession","impassively","transported","procedurally","understanding","agglutination","expiratory","quintessence","unconditional","individuation","cephalosporin","wordlessly","ostentation","straightaway","uncompressed","underpainting","miscalculation","stuttering","androgynous","preconquest","intoxication","parliamentary","maladjustment","egocentricity","sumptuary","exultantly","transsexual","listenership","stroboscopic","thermography","physiographic","detoxification","phosphorus","wonderfully","songwriting","togetherness","constipation","interpreting","redistricting","pharmacognosy","discriminative","superpower","triumvirate","protectorate","malevolently","unexpurgated","misogynous","repetitious","telecommuting","dimensionless","impressionable","pyrolysis","plasterwork","expansionism","autobiography","conceptualist","unavailability","aerodynamically","timelessness","subjectivist","inviolability","disapprobation","adventurous","perpetuation","computational","counterfactual","chromodynamics","promulgation","multinational","periodization","translocation","bipartisanship","investiture","prescription","misogynistic","instrumented","reimposition","plainclothesman","prostitute","corroboration","grotesquely","immunization","investigation","unrepresented","problematically","unknowingly","expansionist","disquisition","symbiotically","proposition","exclusionary","predominantly","fingerprinting","torturous","prostituted","stromatolite","advantageously","unproductive","peritonsillar","dissatisfaction","exclusivity","microcomputer","aggressiveness","presidentially","underprivileged","phosphorous","intentionally","intramuscular","synchronous","extratextual","strangulation","psychoanalytic","protestation","cosmetologist","disorientation","sportscaster","disinvestment","scripturally","photoreceptor","superiority","thoughtfully","industrialist","intellectualism","unknowability","asymmetrically","luxuriantly","streptococcus","histopathologic","visualization","overwintering","particularistic","hyperventilate","nonconformity","phosphorescent","psychiatrically","oversensitive","tumultuous","provocatively","relinquishment","trivialization","conventionalism","pointlessness","gravitationally","cooperativeness","percussionist","experimentation","sensuousness","circumscription","inquisitively","horizontality","polymorphous","externalization","supernumerary","intravenously","revolutionized","superposition","spectroscopist","purposiveness","prioritization","mysteriously","disproportional","multiprocessor","simultaneously","asynchronously","retrospectively","systematization","pretentiousness","trustworthiness","face","back","deed","band","beaded","hack","baked","baled","ghee","bear","dial","jamb","lack","cava","call","beep","fail","faecal","fend","hedge","fear","deli","char","check","fabled","baggage","bias","lame","chief","cell","jail","bait","rebbe","camp","wade","gate","belie","celiac","meek","loaf","idled","keen","rake","fell","clean","grade","lance","balsa","hair","cuff","narc","debase","like","bulb","mare","dill","teff","focal","phage","needed","ipecac","same","sand","sand","dodo","alpha","leaked","kabbalah","coat","riff","chug","cheer","sheaf","beget","dweeb","scald","biggie","mind","robe","hole","lube","dong","table","blank","blank","benne","hackle","capable","home","clay","flub","blind","eider","damned","breech","canard","fading","earache","palm","rear","hemp","peep","vane","final","flare","larch","female","dearie","fancied","plan","coax","quad","scat","local","heady","batik","elate","gobble","gaffer","bareback","pave","lewd","tuba","hasp","chill","drape","dildo","allen","goddam","beside","fogged","debauch","deafened","cool","wham","emir","knife","kafir","denial","nailed","managed","bailiff","firm","ward","lite","meth","curd","chuck","lapel","faggy","dyadic","plaice","amended","chaebol","save","sect","flit","dint","grape","nomad","antic","tanka","effete","beseech","live","evil","slob","juice","merge","penal","natal","aspic","device","minced","dimmed","cabling","weedbed","fallback","shim","model","shape","realm","lucid","sauce","sated","bearer","carnal","belated","bipedal","headland","babbling","ever","lens","tomb","ally","shin","ting","melt","after","acute","macro","divan","carom","animal","guided","gargle","oceanic","makeable","more","soap","dolt","giant","elite","daily","appeal","caller","gaming","beeper","casein","judged","dedicate","boot","poof","arise","handy","raise","gorge","radon","okapi","caring","marcel","cudgel","tended","bargain","carbine","abracadabra","pith","busk","wheel","vodka","wacko","cupid","coffin","masked","goatee","cloned","fueled","chilled","clogged","cordage","curl","pawn","viva","hunch","guile","search","safari","breath","duffle","kinked","matched","hedging","advanced","handmaid","boss","font","grey","jewel","slain","argon","faery","orang","veggie","girdle","placer","corbel","padding","deleted","codicil","fireback","hacendado","shit","plug","scum","jute","shell","skate","drone","brawl","broil","attack","karate","spiced","baldly","gringa","lugged","mangled","dialing","disabled","basilica","roll","glow","rose","might","human","crumb","tweed","mulch","height","ringed","dorado","channel","afflict","patched","catbird","dingbat","accepted","they","star","wrap","warp","swig","steam","lunch","brawn","plait","laver","basket","hammer","dismal","blight","wading","fibrin","imagine","midlife","fiddler","huddled","muchacha","gown","swap","inky","moral","evict","crimp","saggy","newel","finger","anchor","muddle","forked","rehash","axilla","askari","linkage","bespeak","webpage","delegate","reddened","over","knot","silt","morn","spud","score","trail","spike","sonic","mangy","trial","intake","buffet","tickle","banter","monied","nicker","teacher","cramped","acrobat","chagrin","dodging","caseload","backflip","cackling","canebrake","wimp","spay","crus","trick","quick","grope","heist","clunk","maths","absent","hamper","trance","benefit","grandpa","yardage","hearted","hellcat","kickball","backtalk","veto","curt","noise","favor","lynch","crook","stance","impact","jogger","mensch","draper","referee","shading","cantina","premade","gilding","medicine","concealed","blackbird","jazz","swat","plant","awful","muted","optic","snipe","doyen","gentle","clothe","jumble","jumble","anklet","besides","tabloid","doglike","planked","anathema","push","surf","focus","shaky","bogus","flunk","picky","tuned","attend","floral","serial","fitted","warmed","pickax","flicker","eugenic","reliable","airfield","majolica","imbalanced","gory","mazy","steep","token","filmy","holey","mental","boring","warden","gloved","snatch","mastic","burgle","darling","veranda","buyback","smeared","cognate","chiseled","haggling","icemaker","deafening","stir","other","flush","rogue","frosh","sketch","chives","tender","hawker","booker","alcohol","archive","abstain","midline","sandman","netball","drifted","infected","biennial","macerate","barbarian","channeled","wary","poky","stash","ester","sudden","shaggy","mullah","rapier","seraph","silence","earmark","bucking","robbing","evidence","gendarme","capybara","root","vivo","screw","nanny","noose","tramp","hardly","metric","scotch","teaser","seized","tunica","concise","manhole","chamois","slashed","hassled","mackerel","meddling","beriberi","diabolical","cozy","stark","curve","shove","teary","jockey","listed","dorsal","forger","peptic","husband","pending","dragnet","dimming","handling","clearing","facially","singable","flatbread","metalhead","very","spot","rural","yeast","viper","shiso","better","bowing","metier","drogue","descent","tactile","femoral","bollock","galette","darkish","specific","demented","boatload","sickened","domicile","radicchio","learnable","punt","ought","wiper","tutee","native","seller","relish","piping","poncho","raving","damply","compact","updated","hearten","speckle","manikin","guanine","advocate","serenade","fantasia","encoding","kaffiyeh","slut","round","pilot","verve","plight","creepy","micron","mignon","slalom","unclog","wanker","sibling","monarch","unnamed","modeler","allowed","armhole","iodized","ingrain","aerobics","middling","videocam","estancia","canonical","mediaeval","futz","shrug","rugby","splay","tubing","tumble","parlay","copper","sashay","gunnel","krater","casting","halibut","prefect","churned","paradise","bluebird","displaced","cliffside","melaleuca","encircled","swarm","vixen","lounge","flavor","dazzle","squeak","entrap","humvee","airily","canopy","killing","between","implode","prickle","inducer","frogman","highboy","validate","flagpole","oleander","playable","cartload","aerobatic","owner","pansy","famous","cruise","slight","rushed","former","kirtle","secrete","milking","profane","hellion","oddment","griffon","impaired","speckled","harangue","metallic","advancing","middleman","unbleached","until","quirk","pesky","panty","salary","strand","losing","swathe","mantis","ultima","clearly","welcome","sharing","nascent","milling","sulfide","phoneme","flounce","grating","ejector","braying","milling","behemoth","esteemed","retained","fungible","vengeance","rangeland","ransacked","wound","wrong","whoop","ditsy","sewing","airway","jester","slaver","friary","daytime","hearsay","groomed","twiddle","regency","orbital","parallel","enclosed","pancreas","accusing","ticketed","demagogy","mammalian","abscessed","detectable","pizza","otter","plump","goopy","mature","siting","zydeco","despite","trickle","grumble","honking","gluteal","neighbor","emigrate","dividing","doorjamb","crackers","dressage","croaking","rockfall","cramming","reflected","chaparral","deceiving","precedence","visit","vomit","snoop","though","shrink","polish","morgue","groggy","downer","cupful","tinsel","paradox","subside","bribery","misfire","snigger","phaeton","shambles","shadowed","cerulean","thiamine","satiated","reference","concierge","manganese","delineated","funny","trove","unsay","cloudy","corset","slayer","doughy","brunet","groats","banquet","inroads","crawler","regally","fermion","behavior","filament","episodic","epigraph","unclench","gameplay","charting","offending","grapeseed","imbricate","hunchbacked","setup","permit","weekly","sinful","spiffy","yonder","papist","onstage","fraught","muffler","expired","slipped","wiggler","activate","cornmeal","fatalism","flapping","shearing","cramping","roadblock","predicate","mescaline","epiphanic","incredible","handicapped","twirl","minute","optics","obtuse","lepton","poplin","primate","lexicon","organza","boomlet","maverick","staccato","mandolin","weakling","funereal","refining","unframed","hireling","misplaced","magnifier","cockfight","broadtail","sidesaddle","yappy","twitch","remiss","phoney","confuse","website","waiting","hotline","mammoth","segment","roseate","lamplit","ampoule","sandpit","palfrey","criteria","tracking","sardonic","knowable","massager","franchise","jackhammer","utter","lysis","litter","brassy","drowse","conform","playing","theorem","gestalt","politic","nucleon","cheroot","gazette","endeavor","pinafore","chirping","precipice","unsaddled","cheerleader","rumor","kitty","others","squash","flyboy","section","scoring","censure","hissing","totemic","diptych","tugging","onanism","widening","yielding","orgasmic","bouffant","dairyman","gloating","cartridge","activated","bifurcate","handstand","microcode","peacemaking","influx","auteur","stroma","loquat","compose","flowing","aviator","pontiff","obverse","coltish","scotoma","daylight","upheaval","humbling","sibilant","bounding","mandamus","deflation","thirdhand","noticeable","paraplegia","chamberlain","busty","artery","shanty","shimmy","company","shelter","faintly","focuser","warpath","papoose","frighten","lifeless","rucksack","backstop","attender","tefillin","localized","tableware","hankering","creamware","macrophage","medicament","specifiable","lorry","fourth","revert","plover","complex","beltway","exiting","assayer","sparker","woodland","spending","agnostic","smuggled","lacework","eliminate","accession","bloodline","wallboard","gleanings","anhydride","paraplegic","spectacled","uproar","mystic","forever","ensuing","slugger","hickory","quinine","atomize","retitle","foppish","examiner","nicotine","bassinet","barberry","flipping","deceptive","blacklist","nectarine","kingmaker","affronted","additional","cheapskate","autumn","rhesus","illness","emperor","spatula","fibrous","pillbox","gayness","tambour","tendency","mustache","fidelity","composed","warfarin","carryall","precedent","augmented","imagistic","buffeting","negotiable","meandering","chalcedony","pistol","lovely","appoint","glitter","rooming","gizzard","cursing","misting","acoustic","delirium","compiler","disposed","dynamite","cleanout","objective","espionage","lubricate","lodgepole","feminized","patrician","magnetics","incidental","glaciation","redirected","genealogical","lousy","liquor","tycoon","senator","stumble","mounted","whimper","inverse","mollify","billows","hosting","terminal","overload","confetti","avionics","lionfish","cordovan","circulate","severance","segmented","archrival","wisecrack","fermionic","delegation","radicalized","nudity","votive","pyrite","stretch","closure","assault","terrier","torpedo","tiredly","pissing","sulking","yearning","showcase","kingship","gourmand","flameout","misspeak","editorial","lightbulb","rhapsodic","jackscrew","panhandler","replicated","accommodate","snooze","wavery","forgery","dusting","surfing","moonlet","dusting","fishbowl","lodestar","eeriness","hypercar","hydrogel","irritable","covariate","italicize","debenture","retracted","scandalize","embellished","disobedience","insult","lustre","volute","situate","furnish","prudish","chutzpa","document","harmless","allegory","omelette","speedily","starlike","linguini","flattish","nightmare","brainwash","artisanal","curtained","brainwave","diplomate","mineshaft","perishable","bookbinder","paddlewheel","sexist","mutely","reunion","bigotry","spidery","stinker","sopping","overcome","fondness","overcome","flatness","reversed","herewith","fixative","livelong","embarrass","logically","deodorant","afterward","overheard","defrosted","delicately","videocamera","burrow","sexton","through","amnesty","bluster","topping","misrule","surcoat","tribunal","approved","vascular","fourfold","selector","squiggle","turbofan","cioppino","videotape","capillary","insomniac","exfoliate","princedom","deterrence","allopathic","beneficiary","highlighted","belligerence","sunset","preview","venison","ungodly","azimuth","surfeit","comprise","sweeping","oblivion","dynamism","foreplay","narrowed","grooming","scabrous","mannitol","nostalgia","clergyman","theocracy","dishcloth","ticketing","charmless","sectional","immaculate","unchanging","calcareous","perceivable","fruity","styler","snippet","slowing","tuneful","promised","actuator","thwarted","corpsman","unchosen","undertake","evergreen","cryogenic","safehouse","prickling","entrapped","applesauce","egocentric","bookmobile","creditably","confederacy","ballcarrier","truism","utensil","splashy","reshoot","analysis","delivery","botanist","divinely","shakeout","operetta","sodomite","nosphere","excellent","personage","bioweapon","godparent","gladiolus","glissando","threatened","condensate","discernible","credentialed","rotgut","vitally","pushrod","interval","catalyst","rigidity","blurring","cloister","pinewood","fissured","suffused","doctorate","tribesman","hillbilly","impactful","virilocal","indecision","incapacity","deforested","pasteboard","compacting","daydreaming","warrior","pretzel","sparkly","toniest","thousand","nitrogen","swinging","drudgery","gravelly","squeezed","expiring","dimension","magnesium","mortician","underline","borderline","concertina","datastream","ineffectual","hagiographic","suspect","loosely","runaway","flyover","partyer","politics","brazenly","zeppelin","showboat","heliport","triploid","receptive","merciless","showpiece","grumbling","excepting","anointing","bricoleur","readership","socialized","unindicted","picosecond","chanterelle","pretty","drowsy","testify","cruelty","surmise","restyle","ordinary","lukewarm","alleyway","foreword","swindler","imperium","shopgirl","wainscot","divergent","crippling","reptilian","sharpener","womankind","meteoroid","abstinent","experience","admiration","masquerade","dissociate","mendacious","verbalized","interchange","interchange","telemedicine","thusly","rivalry","revelry","purloin","dissolve","ancestry","eventful","pungency","shoreline","truckload","dramatist","gallstone","waitstaff","gruelling","inexorable","gradualism","brilliancy","irreparable","hemorrhagic","acquiescence","puzzle","subtest","constant","downwind","isotopic","piquancy","migration","cognition","egregious","truncated","webmaster","insensate","patenting","prohibited","tactically","relegation","telescreen","hallucinate","switchblade","belatedness","puberty","pillory","copyist","pillory","nonpoor","existing","openness","horribly","satirize","rosebush","unlimited","excitedly","longitude","producing","waterline","uncrowded","sepulchre","egotistic","multimedia","palliative","stabilized","palindrome","impeachment","caricatural","unsexy","oppress","royally","literary","jealousy","neophyte","traverse","keiretsu","flatworm","traveling","prosocial","fetishism","cauterize","slouching","collapsing","enticement","brownfield","reappraise","tickertape","delectation","bicentennial","typhus","roundup","unstuck","venturi","squadron","stressed","dystopia","deterrent","induction","grounding","tardiness","effortful","capturing","aesthetics","exhalation","fieldstone","parastatal","shuddering","cataclysmic","chocolatier","pediatrician","muumuu","loyalty","normally","starship","desirous","smartass","enuresis","informant","crosshair","barrister","papillary","hemolytic","malleolus","gracefully","sentencing","rollicking","bluebonnet","goddaughter","dehumanized","psychobabble","ascertainable","schnozz","swirling","witchery","closeness","clockwork","speedster","colectomy","habitually","chillingly","peoplehood","indecently","generically","unalterable","monomaniacal","postwar","foursome","lawfully","pivoting","intermix","opaquely","dichotomy","delirious","millionth","teasingly","suntanned","odiferous","reasonably","antiquated","incitement","initiating","bridgework","racquetball","decolonized","overrun","uprising","solidity","lovelorn","voracity","hazardous","uncannily","twitching","sultanate","cotyledon","resistance","magistrate","compendium","biometrics","entailment","regrettable","uninflected","neoclassical","customer","standout","wordplay","whodunit","windsurf","executive","reclusive","requested","backstory","manoeuvre","excavation","capricious","fertilized","hereabouts","geometrics","directorial","unpracticed","chesterfield","upstart","opposite","unproved","warehouse","inspiring","deformity","longingly","maxillary","crapshoot","jewellery","pseudopod","cheerfully","woodpecker","gunfighter","translocal","repellency","countenance","nonmagnetic","odynophagia","degenerative","antibacterial","twisty","volition","stonefly","slipknot","treehouse","zookeeper","oxygenate","unexcused","subscriber","vegetative","collarless","wingspread","underfunded","ungraspable","racketeering","slutty","protrude","zoonotic","commotion","stumbling","tomatillo","conscript","autosomal","uncrowned","tremolite","reparation","redemptive","undeserved","soundscape","communicate","heartbroken","fantasyland","patrilineage","pursuer","snowshoe","splotchy","stainless","nocturnal","uninvited","reprocess","graywater","retractor","epizootic","unprepared","corrective","coarseness","metrically","irradiation","conflictive","reticulated","accommodating","willowy","polluter","townsman","misquote","regularly","stairwell","overjoyed","centurion","photonics","erstwhile","attractive","uninformed","inveterate","enveloping","preeminent","secretariat","bioethicist","spectacular","chairmanship","evenhandedly","inequity","undertow","propolis","sociology","solicitor","corrupted","smilingly","gregarious","unexploded","grogginess","geophysical","rhetorician","unidentified","premeditated","luxury","registry","tortured","grumpily","supergun","depositor","cosmonaut","penstemon","hoofprint","sustenance","notational","overgrazed","maternally","consequence","appellation","inculcation","searchingly","hermeneutic","supercharge","unremarkable","irremediably","ruthless","proposer","patiently","revolting","trattoria","steepness","outlawing","lackluster","regularize","supplicate","quarreling","precipitate","peripatetic","thenceforth","interminable","differentiate","trusty","severity","adversity","telemetry","unexposed","conspiracy","forcefully","annotation","singleness","surfactant","substandard","cybernetics","aseptically","flammability","disengagement","undecipherable","shutdown","visualize","apportion","disputant","dysthymia","unanswered","mercifully","dimorphism","potentilla","celebratory","distracting","inauthentic","marchioness","enlightening","undercarriage","fuzzily","unsought","interpret","unopposed","pizzicato","insightful","overvalued","enunciation","economistic","gamesmanship","disciplining","pylorus","downpour","important","combustor","equivalent","uneasiness","homeopathy","jubilantly","desperation","wastebasket","nasogastric","embarrassing","antipathetic","antimicrobial","personify","botulinum","schmaltzy","sulphuric","revitalize","gratefully","secularist","sterilized","phosphoric","incisively","handwriting","undervalued","syntactical","unreasonable","sarsaparilla","mycobacterial","brownout","matrimony","monumental","intolerant","lavishness","policymaker","transferred","undermining","esophagitis","nonrenewable","scrutiny","jumpsuit","longevity","ironstone","literature","ammunition","terminally","enduringly","weaponless","sensational","radiologist","entranceway","mucociliary","thematically","packinghouse","distrust","knowingly","pitifully","metrology","internally","portobello","enumerator","unkindness","abnormality","mammography","cacophonous","invalidation","incarceration","professor","unvarying","communique","houseplant","unassisted","adsorption","commonalty","alluringly","development","unpublished","blasphemous","osteopathic","disintegrate","delimitation","uncontainable","turnabout","deviously","presumably","stronghold","interloper","reactivity","protectant","aristocracy","procreative","orthopedics","disappointed","eosinophilia","property","potassium","toothless","nonworker","inequality","loquacious","phylactery","heavyweight","psychically","untarnished","electrifying","deprogrammer","imperceptible","sunburst","supervise","truculent","consulting","forerunner","impoverish","patristics","distinctive","whimsically","eccentricity","sleepwalking","mismanagement","transgendered","counterbalance","reservist","temptress","transplant","relativist","baptistery","phlogiston","misspelling","spotlighted","inequitably","applicability","dermatological","protester","supposing","virtuosic","visibility","menstruate","equilibrium","facetiously","alliteration","underdressed","deferentially","trustful","intrusive","intertwine","uncommitted","excellently","naughtiness","spastically","underfunding","unanticipated","supersize","supervised","zoomorphic","conjunction","physiologic","misanthrope","weightiness","chauvinistic","socioeconomic","disciplinarian","mustiness","punishment","obtuseness","sympathetic","unprocessed","unfurnished","subsidizing","antifeminist","despoliation","seismological","unacknowledged","bottomless","homologous","sullenness","attenuation","hopefulness","officiously","mythological","infotainment","multileveled","unembarrassed","reconnaissance","purgatory","asymptotic","contritely","nonpartisan","innervation","curtainless","intermediary","meetinghouse","disembarkation","bratwurst","turpentine","missionary","hydrolyzed","overproduce","corporative","separateness","collectivism","uncircumcised","curiously","postseason","somersault","preciously","resourceful","homeostasis","splintering","motherfucker","disorienting","clandestinely","microbiological","reverently","solubility","impatiently","naturalness","stepdaughter","comparability","lustrous","neutrality","soothsayer","spitefully","interiorly","confusingly","communicator","emotionalism","anthropogenic","ambassadorship","groundwork","scrollwork","ambitiously","contrastive","prophylactic","counteroffer","manifestation","touristy","worshipful","infertility","dispositive","synesthetic","multicolored","informational","carnivalesque","sourpuss","stimulator","conspirator","interiorize","unmistakably","nutraceutical","rapturous","exhortation","retributive","collectivist","vocationally","photoelectric","stratigraphic","bioavailability","improvement","polymorphic","preoperative","precipitator","rationalistic","underdeveloped","computerize","ambidextrous","contraceptive","improbability","diagnostically","tunelessly","apatosaurus","principality","distributing","renegotiation","powerfully","frustrating","unconscious","conservative","impartiality","deterioration","ethnicization","liberalization","sportswear","symptomatic","crystallized","immutability","undeservedly","frighteningly","electronically","uncontaminated","moisturize","immortality","computerized","conscription","asymptomatic","complicitous","authoritarian","accountability","prearrangement","customarily","destitution","preeminently","neutralizing","embryogenesis","serostatus","consumptive","underemployed","grandiloquent","sociologically","waterspout","hypotensive","percutaneous","threateningly","submillimeter","gerrymandering","spontaneous","sluggishness","microscopist","cryptographic","bioaccumulation","brusqueness","embryologist","grandmotherly","unappreciative","omnivorous","shatterproof","insubstantial","corroborative","oligopolistic","spotlessly","stultifying","isolationist","irritatingly","skullduggery","adventuresome","prostitute","unsuccessful","particularized","unsurprised","entomologist","thoroughgoing","syntactically","protrusion","stegosaurus","conductivity","monocultural","submicroscopic","constructor","cautiousness","conscientious","intermolecular","erroneously","intermittent","incorporation","unpresidential","unreservedly","segregationist","motorsport","subsumption","interruptible","legitimization","sociobiologist","chronologically","stylization","tantalizingly","conspiratorial","exhaustively","unwaveringly","irrationality","impressively","cryptography","psychokinesis","nonrecognition","spiritualist","distastefully","postsecondary","eutrophication","resistivity","universality","rebelliousness","unrelentingly","attractiveness","orthomolecular","evolutionary","transfrontier","scriptwriter","psychoanalyst","slaughterhouse","thromboembolism","ornithologist","obliviousness","universalistic","tonsillectomy","malnourishment","opportunist","transformation","autoregressive","anticonvulsant","methylmercury","noncommittally","nonagricultural","demonstrability","underestimation","transcriptional","protectiveness","ubiquitously","routinization","compulsiveness","neurochemistry","contemporaneity","hypersensitive","proselytizing","disillusionment","oppositionist","jurisprudential","pretentiously","territoriality","presumptively","restorationist","unintentionally","authoritatively","thoughtlessness","interventionist","adventurousness","proportionality"];

function respond() {
	request = JSON.parse(this.req.chunks[0]);
  
	if(request.text && r1.test(request.text.toLowerCase())) {
		if(currentlyPlayingGame){
			this.res.writeHead(200);
			sendMessage("You are already playing a game. Type \"!forfeit\" to end your game.");
			this.res.end();
		} else {
			this.res.writeHead(200);
			sendMessage(startGame());
			this.res.end();
		}
	}

	else if(request.text && r2.test(request.text.toLowerCase())) {
		if(currentlyPlayingGame){
			this.res.writeHead(200);
			sendMessage(guessLetter(request.text.toLowerCase().slice(-1)));
			this.res.end();
		} else {
			this.res.writeHead(200);
			sendMessage("You are not currently playing a game. Type \"!play\" to start a game.");
			this.res.end();
		}
	}

	else if(request.text && r3.test(request.text.toLowerCase())) {
		if(currentlyPlayingGame){
			this.res.writeHead(200);
			sendMessage(endGameLose());
			this.res.end();
		} else {
			this.res.writeHead(200);
			sendMessage("You are not currently playing a game. Type \"!play\" to start a game.");
			this.res.end();
		}
	}

	else if(request.text && r4.test(request.text.toLowerCase())) {
		if(currentlyPlayingGame){
			this.res.writeHead(200);
			sendMessage(progressText1() + progressText2() + progressText3());
			this.res.end();
		} else {
			this.res.writeHead(200);
			sendMessage("You are not currently playing a game. Type \"!play\" to start a game.");
			this.res.end();
		}
	}

	else if(request.text && r5.test(request.text.toLowerCase())) {
		this.res.writeHead(200);
		sendMessage("I am a bot that runs games of Hangman. Type \"!play\" to start a game. Type \"!guess [letter]\" to guess that letter. Type \"!progress\" to see progress on the game. Type \"!forfeit\" to end a game. Type \"!stats\" to see stats about the number of games played. Note that sometimes I can be a little slow to respond, so be patient!");
		this.res.end();
	}

	else if(request.text && r6.test(request.text.toLowerCase())) {
		this.res.writeHead(200);
		sendMessage("I am HangBot version " + VERSIONNUMBER + ". I was created by James Calixto, with lots of help from Pulkit Kashyap. I run games of Hangman.");
		this.res.end();
	}

	else {
		console.log("no response required");
		this.res.writeHead(200);
		this.res.end();
	}
}

function sendMessage(messageText){
	var botResponse, options, body, botReq;

	botResponse = messageText;

 	options = {
		hostname: 'api.groupme.com',
		path: '/v3/bots/post',
		method: 'POST'
 	};

 	body = {
		"bot_id" : botID,
	 	"text" : botResponse
  	};

  	console.log('sending ' + botResponse + ' to ' + botID);
  
  	botReq = HTTPS.request(options, function(res) {
		if(res.statusCode == 202) {
		} else {
		  console.log('rejecting bad status code ' + res.statusCode);
		}
  	});

  	botReq.on('error', function(err) {
	 	console.log('error posting message '  + JSON.stringify(err));
  	});

  	botReq.on('timeout', function(err) {
	 	console.log('timeout posting message '  + JSON.stringify(err));
  	});

  	botReq.end(JSON.stringify(body));
}

function startGame() {
	currentlyPlayingGame = true;
	// reset guessed letters
	guessedLetters = "";
	// reset number of guesses
	guessesRemain = guessesMax;
	// make a new guessWord
	generateWord();
	updateDisplayWord();
	return "Try to guess \"" + displayWord + "\" in " + guessesMax + " guesses or less.";
}
	
function generateWord(){
	rng = (Math.floor((Math.random() * 4379) + 1));
	guessWord = wordList[rng];
}

function updateDisplayWord(){
	// make a new temp string
	var tempString = "";
	// for every letter in the guessword
	for (var i = 0; i < guessWord.length; i++) {
		// if it's in our guessed letters
		if (guessedLetters.indexOf(guessWord.charAt(i)) != -1) {
			// show the letter
			tempString += guessWord.charAt(i);
		} else {
		// otherwise
			// put a - there
			tempString += "?";
		}
	// make it the display word
	displayWord = tempString;
	}
}

function guessLetter(str) {
	// if we already have this letter (letter is in guessed letters)
	if (guessedLetters.indexOf(str) != -1) {
		// reject it with a message
		return "You have already guessed the letter " + str + ".";
	}

	// update the display text 
	guessedLetters += str;
	updateDisplayWord();

	if (displayWord.indexOf("?") == -1) {
		// if we won (display text has no ?) then go to win
		return endGameWin();
	}
	
	if (guessWord.indexOf(str) == -1) {
		// decrement guess count
		guessesRemain -= 1;
	}

	if (guessesRemain == 0) {
		return endGameLose();
	}

	return "You guessed " + str + ", giving you \"" + displayWord + "\" with " + guessNumberText();
}

function guessNumberText() {
	if (guessesRemain == 1) {
		return "only 1 guess left.";
	} else {
		return guessesRemain + " guesses left.";
	}
}

function endGameWin() {
	currentlyPlayingGame = false;
	gamesPlayed += 1;
	gamesWon += 1;
	return "Congratulations! You guessed the word \"" + guessWord + "\". Try again?";
}

function endGameLose() {
	currentlyPlayingGame = false;
	gamesPlayed += 1;
	return "You lost. The word you were trying to guess was \"" + guessWord + "\". Better luck next time.";
}

function progressText1() {
	return "You are trying to guess the remainder of \"" + displayWord + "\" ";
}

function progressText2() {
	if (guessedLetters.length == 0) {
		return "and you have not yet guessed any letters. "
	} else if (guessedLetters.length == 1) {
		return "and you have already guessed the letter " + guessedLetters + ". ";
	} else {
		return "and you have already guessed the letters " + guessedLetters.split("") + ". ";
	}
}

function progressText3() {
	return "You have " + guessNumberText();
}

exports.respond = respond;